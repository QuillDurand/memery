---

title: Core


keywords: fastai
sidebar: home_sidebar



nb_path: "00_core.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 00_core.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The first iteration of <code>memery</code> is a simple CLI tool that you can use on a folder with subfolders of images to return the closest <code>n</code> images based on a text or image search.</p>
<p>This is the core module, which loads the CLIP model and the encodings of all the images in the folder, then tokenizes the search text or image, and finally returns a sorted list of filenames.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Modular-flow-system">Modular flow system<a class="anchor-link" href="#Modular-flow-system"> </a></h1><p>I'm using the Neural Search design pattern as described by Han Xiao in e.g. <a href="https://hanxiao.io/2019/07/29/Generic-Neural-Elastic-Search-From-bert-as-service-and-Go-Way-Beyond">General Neural Elastic Search and Go Way Beyond</a>&amp;c.</p>
<p>Essentially a pipeline model, here we think of Flows and Executors.</p>
<p><strong>Flows</strong> are specific patterns of data manipulation and storage. <strong>Executors</strong> are the operators that transform the data within the flow.</p>
<p>There are two core flows to any search system: indexing, and querying. The plan here is to make executors that can be composed into flows and then compose the flows into a UI that supports querying and, to some extent, indexing as well.</p>
<p>The core executors for this use case are:</p>
<ul>
<li>Loader</li>
<li>Crafter</li>
<li>Encoder</li>
<li>Indexer</li>
<li>Ranker</li>
<li>Gateway</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Gateway">Gateway<a class="anchor-link" href="#Gateway"> </a></h2><p>Takes a query and processes it through either Indexing Flow or Querying Flow, passing along arguments. The main entrypoint for each iteration of the index/query process.</p>
<p>Querying Flow can technically process either text or image search, becuase the CLIP encoder will put them into the same embedding space. So we might as well build in a method for either, and make it available to the user, since it's impressive and useful and relatively easy to build.</p>
<p>Eventually the Gateway process probably needs to be quite complicated, for serving all the different users and for delivering REST APIs to different clients. For now we will run this locally, in a notebook. Then build out a GUI from there using <code>mediapy</code> or <code>widgets</code>. That should reveal the basic necessities of the UI, and then we can separate out the GUI client from the server.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Flows">Flows<a class="anchor-link" href="#Flows"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="indexFlow" class="doc_header"><code>indexFlow</code><a href="https://github.com/deepfates/memery/tree/main/memery/core.py#L15" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>indexFlow</code>(<strong><code>path</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">save_paths</span> <span class="o">=</span> <span class="n">indexFlow</span><span class="p">(</span><span class="s1">&#39;./images&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>0it [00:00, ?it/s]</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Loaded 78 encodings
Encoding 0 new images
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>0it [00:00, ?it/s]</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Building treemap
Saving 78images
Done
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">save_paths</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(&#39;images/memery.pt&#39;, &#39;images/memery.ann&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="queryFlow" class="doc_header"><code>queryFlow</code><a href="https://github.com/deepfates/memery/tree/main/memery/core.py#L38" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>queryFlow</code>(<strong><code>path</code></strong>, <strong><code>query</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">ipyplot</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">root</span> <span class="o">=</span> <span class="s1">&#39;./images&#39;</span>
<span class="n">query</span> <span class="o">=</span> <span class="s1">&#39;dog&#39;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ranked</span> <span class="o">=</span> <span class="n">queryFlow</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">query</span><span class="p">)</span>
<span class="n">ipyplot</span><span class="o">.</span><span class="n">plot_images</span><span class="p">(</span><span class="n">ranked</span><span class="p">,</span> <span class="n">max_images</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Searching 78 images
</pre>
</div>
</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea ">

    <style>
        #ipyplot-html-viewer-toggle-asK9KwTwdong2nuf7PPpW4 {
            position: absolute;
            top: -9999px;
            left: -9999px;
            visibility: hidden;
        }

        #ipyplot-html-viewer-label-asK9KwTwdong2nuf7PPpW4 { 
            position: relative;
            display: inline-block;
            cursor: pointer;
            color: blue;
            text-decoration: underline;
        }

        #ipyplot-html-viewer-textarea-asK9KwTwdong2nuf7PPpW4 {
            background: lightgrey;
            width: 100%;
            height: 0px;
            display: none;
        }

        #ipyplot-html-viewer-toggle-asK9KwTwdong2nuf7PPpW4:checked ~ #ipyplot-html-viewer-textarea-asK9KwTwdong2nuf7PPpW4 {
            height: 200px;
            display: block;
        }

        #ipyplot-html-viewer-toggle-asK9KwTwdong2nuf7PPpW4:checked + #ipyplot-html-viewer-label-asK9KwTwdong2nuf7PPpW4:after {
            content: "hide html";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: white;
            cursor: pointer;
            color: blue;
            text-decoration: underline;
        }
    </style>
    <div>
        <input type="checkbox" id="ipyplot-html-viewer-toggle-asK9KwTwdong2nuf7PPpW4">
        <label id="ipyplot-html-viewer-label-asK9KwTwdong2nuf7PPpW4" for="ipyplot-html-viewer-toggle-asK9KwTwdong2nuf7PPpW4">show html</label>
        <textarea id="ipyplot-html-viewer-textarea-asK9KwTwdong2nuf7PPpW4" readonly>
            
        <style>
        #ipyplot-imgs-container-div-EhZmWBoBqHgz3BVwhT3m2X {
            width: 100%;
            height: 100%;
            margin: 0%;
            overflow: auto;
            position: relative;
            overflow-y: scroll;
        }

        div.ipyplot-placeholder-div-EhZmWBoBqHgz3BVwhT3m2X {
            width: 150px;
            display: inline-block;
            margin: 3px;
            position: relative;
        }

        div.ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X {
            width: 150px;
            background: white;
            display: inline-block;
            vertical-align: top;
            text-align: center;
            position: relative;
            border: 2px solid #ddd;
            top: 0;
            left: 0;
        }

        div.ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X span.ipyplot-img-close {
            display: none;
        }

        div.ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X span {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
        }

        div.ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X img {
            width: 150px;
        }

        div.ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X span.ipyplot-img-close:hover {
            cursor: zoom-out;
        }
        div.ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X span.ipyplot-img-expand:hover {
            cursor: zoom-in;
        }

        div[id^=ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X]:target {
            transform: scale(2.5);
            transform-origin: left top;
            z-index: 5000;
            top: 0;
            left: 0;
            position: absolute;
        }

        div[id^=ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X]:target span.ipyplot-img-close {
            display: block;
        }

        div[id^=ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X]:target span.ipyplot-img-expand {
            display: none;
        }
        </style>
    <div id="ipyplot-imgs-container-div-EhZmWBoBqHgz3BVwhT3m2X">
    <div class="ipyplot-placeholder-div-EhZmWBoBqHgz3BVwhT3m2X">
        <div id="ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X-NuC3sRViXJ2BhjUesX4dC3" class="ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X">
            <h4 style="font-size: 12px; word-wrap: break-word;">0</h4>
            <h4 style="font-size: 9px; padding-left: 10px; padding-right: 10px; width: 95%; word-wrap: break-word; white-space: normal;">images/Wholesome-Meme-8.jpg</h4><img src="images/Wholesome-Meme-8.jpg"/>
            <a href="#!">
                <span class="ipyplot-img-close"/>
            </a>
            <a href="#ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X-NuC3sRViXJ2BhjUesX4dC3">
                <span class="ipyplot-img-expand"/>
            </a>
        </div>
    </div>
    
    <div class="ipyplot-placeholder-div-EhZmWBoBqHgz3BVwhT3m2X">
        <div id="ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X-LNkoUK8AfgCdt8io49wpK7" class="ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X">
            <h4 style="font-size: 12px; word-wrap: break-word;">1</h4>
            <h4 style="font-size: 9px; padding-left: 10px; padding-right: 10px; width: 95%; word-wrap: break-word; white-space: normal;">images/Wholesome-Meme-5.jpg</h4><img src="images/Wholesome-Meme-5.jpg"/>
            <a href="#!">
                <span class="ipyplot-img-close"/>
            </a>
            <a href="#ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X-LNkoUK8AfgCdt8io49wpK7">
                <span class="ipyplot-img-expand"/>
            </a>
        </div>
    </div>
    
    <div class="ipyplot-placeholder-div-EhZmWBoBqHgz3BVwhT3m2X">
        <div id="ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X-2pY7ApRGuM3ZXxEJLHHiLX" class="ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X">
            <h4 style="font-size: 12px; word-wrap: break-word;">2</h4>
            <h4 style="font-size: 9px; padding-left: 10px; padding-right: 10px; width: 95%; word-wrap: break-word; white-space: normal;">images/Wholesome-Meme-35.jpg</h4><img src="images/Wholesome-Meme-35.jpg"/>
            <a href="#!">
                <span class="ipyplot-img-close"/>
            </a>
            <a href="#ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X-2pY7ApRGuM3ZXxEJLHHiLX">
                <span class="ipyplot-img-expand"/>
            </a>
        </div>
    </div>
    
    <div class="ipyplot-placeholder-div-EhZmWBoBqHgz3BVwhT3m2X">
        <div id="ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X-ByfDBBTPTEEK86rfXhuNpL" class="ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X">
            <h4 style="font-size: 12px; word-wrap: break-word;">3</h4>
            <h4 style="font-size: 9px; padding-left: 10px; padding-right: 10px; width: 95%; word-wrap: break-word; white-space: normal;">images/Wholesome-Meme-67.png</h4><img src="images/Wholesome-Meme-67.png"/>
            <a href="#!">
                <span class="ipyplot-img-close"/>
            </a>
            <a href="#ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X-ByfDBBTPTEEK86rfXhuNpL">
                <span class="ipyplot-img-expand"/>
            </a>
        </div>
    </div>
    
    <div class="ipyplot-placeholder-div-EhZmWBoBqHgz3BVwhT3m2X">
        <div id="ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X-YjLeoAyCcSARQR3rRyr5Kj" class="ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X">
            <h4 style="font-size: 12px; word-wrap: break-word;">4</h4>
            <h4 style="font-size: 9px; padding-left: 10px; padding-right: 10px; width: 95%; word-wrap: break-word; white-space: normal;">images/embarassed-dog-on-bed-SA2BDZW.jpg</h4><img src="images/embarassed-dog-on-bed-SA2BDZW.jpg"/>
            <a href="#!">
                <span class="ipyplot-img-close"/>
            </a>
            <a href="#ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X-YjLeoAyCcSARQR3rRyr5Kj">
                <span class="ipyplot-img-expand"/>
            </a>
        </div>
    </div>
    
    <div class="ipyplot-placeholder-div-EhZmWBoBqHgz3BVwhT3m2X">
        <div id="ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X-5bRNohCAqK5JPksxcGNpcM" class="ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X">
            <h4 style="font-size: 12px; word-wrap: break-word;">5</h4>
            <h4 style="font-size: 9px; padding-left: 10px; padding-right: 10px; width: 95%; word-wrap: break-word; white-space: normal;">images/Wholesome-Meme-72.jpg</h4><img src="images/Wholesome-Meme-72.jpg"/>
            <a href="#!">
                <span class="ipyplot-img-close"/>
            </a>
            <a href="#ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X-5bRNohCAqK5JPksxcGNpcM">
                <span class="ipyplot-img-expand"/>
            </a>
        </div>
    </div>
    </div>
        </textarea>
    </div>
    
</div>

</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea ">

        <style>
        #ipyplot-imgs-container-div-EhZmWBoBqHgz3BVwhT3m2X {
            width: 100%;
            height: 100%;
            margin: 0%;
            overflow: auto;
            position: relative;
            overflow-y: scroll;
        }

        div.ipyplot-placeholder-div-EhZmWBoBqHgz3BVwhT3m2X {
            width: 150px;
            display: inline-block;
            margin: 3px;
            position: relative;
        }

        div.ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X {
            width: 150px;
            background: white;
            display: inline-block;
            vertical-align: top;
            text-align: center;
            position: relative;
            border: 2px solid #ddd;
            top: 0;
            left: 0;
        }

        div.ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X span.ipyplot-img-close {
            display: none;
        }

        div.ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X span {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
        }

        div.ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X img {
            width: 150px;
        }

        div.ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X span.ipyplot-img-close:hover {
            cursor: zoom-out;
        }
        div.ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X span.ipyplot-img-expand:hover {
            cursor: zoom-in;
        }

        div[id^=ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X]:target {
            transform: scale(2.5);
            transform-origin: left top;
            z-index: 5000;
            top: 0;
            left: 0;
            position: absolute;
        }

        div[id^=ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X]:target span.ipyplot-img-close {
            display: block;
        }

        div[id^=ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X]:target span.ipyplot-img-expand {
            display: none;
        }
        </style>
    <div id="ipyplot-imgs-container-div-EhZmWBoBqHgz3BVwhT3m2X">
    <div class="ipyplot-placeholder-div-EhZmWBoBqHgz3BVwhT3m2X">
        <div id="ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X-NuC3sRViXJ2BhjUesX4dC3" class="ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X">
            <h4 style="font-size: 12px; word-wrap: break-word;">0</h4>
            <h4 style="font-size: 9px; padding-left: 10px; padding-right: 10px; width: 95%; word-wrap: break-word; white-space: normal;">images/Wholesome-Meme-8.jpg</h4><img src="images/Wholesome-Meme-8.jpg"/>
            <a href="#!">
                <span class="ipyplot-img-close"/>
            </a>
            <a href="#ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X-NuC3sRViXJ2BhjUesX4dC3">
                <span class="ipyplot-img-expand"/>
            </a>
        </div>
    </div>
    
    <div class="ipyplot-placeholder-div-EhZmWBoBqHgz3BVwhT3m2X">
        <div id="ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X-LNkoUK8AfgCdt8io49wpK7" class="ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X">
            <h4 style="font-size: 12px; word-wrap: break-word;">1</h4>
            <h4 style="font-size: 9px; padding-left: 10px; padding-right: 10px; width: 95%; word-wrap: break-word; white-space: normal;">images/Wholesome-Meme-5.jpg</h4><img src="images/Wholesome-Meme-5.jpg"/>
            <a href="#!">
                <span class="ipyplot-img-close"/>
            </a>
            <a href="#ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X-LNkoUK8AfgCdt8io49wpK7">
                <span class="ipyplot-img-expand"/>
            </a>
        </div>
    </div>
    
    <div class="ipyplot-placeholder-div-EhZmWBoBqHgz3BVwhT3m2X">
        <div id="ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X-2pY7ApRGuM3ZXxEJLHHiLX" class="ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X">
            <h4 style="font-size: 12px; word-wrap: break-word;">2</h4>
            <h4 style="font-size: 9px; padding-left: 10px; padding-right: 10px; width: 95%; word-wrap: break-word; white-space: normal;">images/Wholesome-Meme-35.jpg</h4><img src="images/Wholesome-Meme-35.jpg"/>
            <a href="#!">
                <span class="ipyplot-img-close"/>
            </a>
            <a href="#ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X-2pY7ApRGuM3ZXxEJLHHiLX">
                <span class="ipyplot-img-expand"/>
            </a>
        </div>
    </div>
    
    <div class="ipyplot-placeholder-div-EhZmWBoBqHgz3BVwhT3m2X">
        <div id="ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X-ByfDBBTPTEEK86rfXhuNpL" class="ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X">
            <h4 style="font-size: 12px; word-wrap: break-word;">3</h4>
            <h4 style="font-size: 9px; padding-left: 10px; padding-right: 10px; width: 95%; word-wrap: break-word; white-space: normal;">images/Wholesome-Meme-67.png</h4><img src="images/Wholesome-Meme-67.png"/>
            <a href="#!">
                <span class="ipyplot-img-close"/>
            </a>
            <a href="#ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X-ByfDBBTPTEEK86rfXhuNpL">
                <span class="ipyplot-img-expand"/>
            </a>
        </div>
    </div>
    
    <div class="ipyplot-placeholder-div-EhZmWBoBqHgz3BVwhT3m2X">
        <div id="ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X-YjLeoAyCcSARQR3rRyr5Kj" class="ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X">
            <h4 style="font-size: 12px; word-wrap: break-word;">4</h4>
            <h4 style="font-size: 9px; padding-left: 10px; padding-right: 10px; width: 95%; word-wrap: break-word; white-space: normal;">images/embarassed-dog-on-bed-SA2BDZW.jpg</h4><img src="images/embarassed-dog-on-bed-SA2BDZW.jpg"/>
            <a href="#!">
                <span class="ipyplot-img-close"/>
            </a>
            <a href="#ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X-YjLeoAyCcSARQR3rRyr5Kj">
                <span class="ipyplot-img-expand"/>
            </a>
        </div>
    </div>
    
    <div class="ipyplot-placeholder-div-EhZmWBoBqHgz3BVwhT3m2X">
        <div id="ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X-5bRNohCAqK5JPksxcGNpcM" class="ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X">
            <h4 style="font-size: 12px; word-wrap: break-word;">5</h4>
            <h4 style="font-size: 9px; padding-left: 10px; padding-right: 10px; width: 95%; word-wrap: break-word; white-space: normal;">images/Wholesome-Meme-72.jpg</h4><img src="images/Wholesome-Meme-72.jpg"/>
            <a href="#!">
                <span class="ipyplot-img-close"/>
            </a>
            <a href="#ipyplot-content-div-EhZmWBoBqHgz3BVwhT3m2X-5bRNohCAqK5JPksxcGNpcM">
                <span class="ipyplot-img-expand"/>
            </a>
        </div>
    </div>
    </div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

